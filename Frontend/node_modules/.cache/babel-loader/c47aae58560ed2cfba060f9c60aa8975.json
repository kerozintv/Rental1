{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SHOR\\\\Desktop\\\\Projects\\\\rental-1\\\\src\\\\pages\\\\GiftShop.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport NavbarLoggedin from '../components/NavbarLoggedin';\nimport Banner from '../components/Banner';\nimport FooterLoggedIn from '../components/FooterLoggedIn';\nimport GiftShopItem from '../components/GiftShopItem';\nimport { withRouter } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nimport 'sweetalert2/src/sweetalert2.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst GiftShop = () => {\n  _s();\n\n  const user_id = localStorage.getItem('user_id');\n  useEffect(() => {\n    fetchData();\n    fetchPoints();\n  }, []);\n  const [giftshop_data, set_giftshop_data] = useState([]);\n  const [husegpontok, set_husegpontok] = useState();\n\n  const fetchData = async () => {\n    const shop_data_raw = await axios.get(`api/giftstore/get-remaining-items`);\n    const shop_data = await shop_data_raw.data.items;\n    set_giftshop_data(shop_data);\n  };\n\n  const fetchPoints = async () => {\n    const data_raw = await axios.get(`api/points/users/${user_id}`);\n    const points = await data_raw.data.husegpontok;\n    set_husegpontok(points);\n  };\n\n  const [message, setMessage] = useState();\n  const [status, setStatus] = useState();\n\n  const showAlert = () => {\n    if (status === 200) {\n      Swal.fire({\n        title: 'Az Ön kódja:',\n        text: message,\n        icon: 'warning',\n        iconColor: '#972626',\n        showCancelButton: false,\n        confirmButtonColor: '#23552f'\n      }).then(result => {\n        if (result.isConfirmed) {\n          setInterval(() => {\n            window.location.reload(false);\n          }, 1100);\n        }\n      });\n    } else if (status === 400) {\n      Swal.fire({\n        title: 'Sajnáljuk :(',\n        text: message,\n        icon: 'warning',\n        iconColor: '#972626',\n        showCancelButton: false,\n        confirmButtonColor: '#23552f'\n      }).then(result => {\n        if (result.isConfirmed) {\n          setInterval(() => {\n            window.location.reload(false);\n          }, 1100);\n        }\n      });\n    }\n  }; //                   Swal.fire({\n  //             title: 'Sajnáljuk :(',\n  //             text: message,\n  //             icon: 'warning',\n  //             }).then((result) => {\n  //             if (result.isConfirmed) {\n  //             })}\n  // }\n\n\n  const Redeem = id => {\n    Swal.fire({\n      text: \"Biztosan be szeretné váltani pontjait erre a tételre?\",\n      icon: 'question',\n      showCancelButton: true,\n      confirmButtonColor: '#23552f',\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'Igen, beváltom',\n      cancelButtonText: 'Mégsem'\n    }).then(result => {\n      if (result.isConfirmed) {\n        const data = {\n          user_id: user_id,\n          item_id: id\n        };\n        axios.post(`api/giftstore/redeem-item`, data).then(res => {\n          setStatus(res.data.status);\n          setMessage(res.data.message);\n          showAlert();\n        });\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(NavbarLoggedin, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"empty_space\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Banner, {\n      title: \"H\\u0171s\\xE9gprogram\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"huseg_wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"huseg_text\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"A 2021.01.01 - t\\u0151l indult h\\u0171s\\xE9gprogramunkban szeretn\\xE9nk megjutalmazni \\xFCgyfeleinket akik minket v\\xE1lasztanak! Minden n\\xE1lunk 3 nap vagy ann\\xE1l hoszzabb id\\u0151re k\\xF6lcs\\xF6nz\\xF6tt g\\xE9pj\\xE1rm\\u0171 ut\\xE1n 200 h\\u0171s\\xE9gpont ker\\xFCl j\\xF3v\\xE1\\xEDr\\xE1sra \\xFCgyfel\\xFCnk fi\\xF3kj\\xE1n amelyeket a lentebb tal\\xE1lhat\\xF3 aj\\xE1nd\\xE9kokra v\\xE1lthat be! Gy\\u0171jtse \\xD6n is a pontjait amiket bev\\xE1lthat! A pontoz\\xE1s az al\\xE1bbi t\\xE1bl\\xE1zat alapj\\xE1n t\\xF6rt\\xE9nik:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"K\\xF6lcs\\xF6nz\\xE9si id\\u0151\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Pont\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"3 nap\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"200 \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"4 nap\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"250 \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"5 nap\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"350 \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"6 nap\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"500 \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"7 nap\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"1000 \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"* FIGYELEM: A h\\u0171s\\xE9gprogram csak a 2021.01.01- t\\u0151l ig\\xE9nybe vet k\\xF6lcs\\xF6nz\\xE9sekre vonatkozik, visszamen\\u0151legesen nem.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 13\n          }, this), \"* A h\\u0171s\\xE9gpontok csak akkor ker\\xFClnek j\\xF3v\\xE1\\xEDr\\xE1sra fi\\xF3kj\\xE1ban ha m\\xE1r \\xE1tvette a j\\xE1rm\\u0171vet!\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gift_shop_wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"gift_shop_banner\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Aj\\xE1nd\\xE9kbolt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"points_banner\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Az \\xD6n pontjai: \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"highlighted_number\",\n            children: husegpontok\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 28\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 10\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"giftshop_container\",\n        children: giftshop_data.map(data => /*#__PURE__*/_jsxDEV(GiftShopItem, {\n          action: () => Redeem(data.id),\n          id: data.id,\n          name: data.item_name,\n          price: data.item_price,\n          picture: data.item_picture,\n          remaining: data.item_remaining\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 27\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FooterLoggedIn, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 189,\n    columnNumber: 5\n  }, this);\n};\n\n_s(GiftShop, \"KrOdFPU+wlYI+bVqpuJyPOjaxSY=\");\n\n_c = GiftShop;\nexport default _c2 = withRouter(GiftShop);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"GiftShop\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["C:/Users/SHOR/Desktop/Projects/rental-1/src/pages/GiftShop.js"],"names":["React","NavbarLoggedin","Banner","FooterLoggedIn","GiftShopItem","withRouter","useState","useEffect","axios","Swal","GiftShop","user_id","localStorage","getItem","fetchData","fetchPoints","giftshop_data","set_giftshop_data","husegpontok","set_husegpontok","shop_data_raw","get","shop_data","data","items","data_raw","points","message","setMessage","status","setStatus","showAlert","fire","title","text","icon","iconColor","showCancelButton","confirmButtonColor","then","result","isConfirmed","setInterval","window","location","reload","Redeem","id","cancelButtonColor","confirmButtonText","cancelButtonText","item_id","post","res","map","item_name","item_price","item_picture","item_remaining"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport NavbarLoggedin from '../components/NavbarLoggedin'\r\nimport Banner from '../components/Banner'\r\nimport FooterLoggedIn from '../components/FooterLoggedIn'\r\nimport GiftShopItem from '../components/GiftShopItem'\r\nimport {withRouter} from 'react-router-dom'\r\nimport {useState, useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2'\r\nimport 'sweetalert2/src/sweetalert2.scss'\r\n\r\nconst GiftShop = () => {\r\n\r\n\r\n\r\n\r\n\r\nconst user_id = localStorage.getItem('user_id');\r\n\r\n useEffect(() => {\r\n          fetchData();\r\n          fetchPoints();\r\n      }, []);\r\n\r\n\r\n\r\n    const [giftshop_data, set_giftshop_data] = useState([]);\r\n    const [husegpontok, set_husegpontok] = useState();\r\n\r\n\r\n    const fetchData = async() => {\r\n          const shop_data_raw = await axios.get(`api/giftstore/get-remaining-items`);\r\n          const shop_data= await shop_data_raw.data.items;\r\n          set_giftshop_data(shop_data);\r\n\r\n    };\r\n\r\n        const fetchPoints = async() => {\r\n          const data_raw = await axios.get(`api/points/users/${user_id}`);\r\n          const points = await data_raw.data.husegpontok;\r\n          set_husegpontok(points);\r\n\r\n    };\r\n\r\n\r\n        const [message, setMessage] = useState();\r\n        const [status, setStatus] = useState();\r\n\r\n    \r\n    const showAlert = () => {\r\n      \r\n      if(status === 200) {\r\n\r\n           Swal.fire({\r\n  \r\n                      title: 'Az Ön kódja:',\r\n                      text: message,\r\n                      \r\n                      icon: 'warning',\r\n                      iconColor: '#972626',\r\n                      showCancelButton: false,\r\n                      confirmButtonColor: '#23552f',\r\n\r\n              }).then((result) => {\r\n\r\n                if (result.isConfirmed) {\r\n                      setInterval(() => {\r\n                        window.location.reload(false);\r\n                      }, 1100);\r\n\r\n\r\n                }\r\n              }) \r\n\r\n\r\n\r\n\r\n\r\n          } else if (status === 400) {\r\n\r\n\r\n        \r\n        \r\n        \r\n            Swal.fire({\r\n  \r\n                      title: 'Sajnáljuk :(',\r\n                      text: message,\r\n                      icon: 'warning',\r\n                      iconColor: '#972626',\r\n                      showCancelButton: false,\r\n                      confirmButtonColor: '#23552f',\r\n\r\n              }).then((result) => {\r\n\r\n                if (result.isConfirmed) {\r\n                      setInterval(() => {\r\n                        window.location.reload(false);\r\n                      }, 1100);\r\n\r\n\r\n                }\r\n              }) \r\n        \r\n          } \r\n        \r\n        \r\n        \r\n        \r\n    }\r\n        \r\n        \r\n\r\n            //                   Swal.fire({\r\n            //             title: 'Sajnáljuk :(',\r\n            //             text: message,\r\n            //             icon: 'warning',\r\n\r\n            //             }).then((result) => {\r\n\r\n            //             if (result.isConfirmed) {\r\n\r\n\r\n\r\n\r\n            //             })}\r\n\r\n\r\n                        \r\n     \r\n            // }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    const Redeem = (id) => {\r\n    \r\n    Swal.fire({\r\n  \r\n        text: \"Biztosan be szeretné váltani pontjait erre a tételre?\",\r\n        icon: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#23552f',\r\n        cancelButtonColor: '#d33',\r\n        confirmButtonText: 'Igen, beváltom',\r\n        cancelButtonText: 'Mégsem'\r\n\r\n}).then((result) => {\r\n\r\n  if (result.isConfirmed) {\r\n\r\n        const data = {\r\n          user_id: user_id,\r\n          item_id: id,\r\n        }\r\n\r\n    \r\n       axios.post(`api/giftstore/redeem-item`, data).then(res => {\r\n       setStatus(res.data.status);\r\n       setMessage(res.data.message);\r\n\r\n        showAlert();\r\n\r\n     });\r\n\r\n\r\n\r\n  }\r\n}) \r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n      <NavbarLoggedin />\r\n      <div className=\"empty_space\"></div>\r\n      <Banner title=\"Hűségprogram\" />\r\n      <div className=\"huseg_wrapper\">\r\n        <div className=\"huseg_text\">\r\n          <p>\r\n            A 2021.01.01 - től indult hűségprogramunkban szeretnénk\r\n            megjutalmazni ügyfeleinket akik minket választanak! Minden nálunk 3\r\n            nap vagy annál hoszzabb időre kölcsönzött gépjármű után 200\r\n            hűségpont kerül jóváírásra ügyfelünk fiókján amelyeket a lentebb\r\n            található ajándékokra válthat be! Gyűjtse Ön is a pontjait amiket\r\n            beválthat! A pontozás az alábbi táblázat alapján történik:\r\n          </p>\r\n\r\n          <br />\r\n\r\n          <table>\r\n            <tr>\r\n              <th>Kölcsönzési idő</th>\r\n              <th>Pont</th>\r\n            </tr>\r\n            <tr>\r\n              <td>3 nap</td>\r\n              <td>200 </td>\r\n            </tr>\r\n\r\n            <tr>\r\n              <td>4 nap</td>\r\n              <td>250 </td>\r\n            </tr>\r\n\r\n            <tr>\r\n              <td>5 nap</td>\r\n              <td>350 </td>\r\n            </tr>\r\n\r\n            <tr>\r\n              <td>6 nap</td>\r\n              <td>500 </td>\r\n            </tr>\r\n\r\n            <tr>\r\n              <td>7 nap</td>\r\n              <td>1000 </td>\r\n            </tr>\r\n          </table>\r\n\r\n          <br />\r\n          <p>\r\n\r\n            * FIGYELEM: A hűségprogram csak a 2021.01.01- től igénybe vet\r\n            kölcsönzésekre vonatkozik, visszamenőlegesen nem.\r\n            <br />\r\n\r\n            * A hűségpontok csak akkor kerülnek jóváírásra fiókjában ha már átvette a járművet!\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"gift_shop_wrapper\">\r\n        <div className=\"gift_shop_banner\">\r\n          <h1>Ajándékbolt</h1>\r\n        </div>\r\n        <div className=\"points_banner\">\r\n         <p>Az Ön pontjai: <span className=\"highlighted_number\">{husegpontok}</span></p>\r\n    \r\n        </div>\r\n\r\n        <div className=\"giftshop_container\">\r\n\r\n                                {giftshop_data.map(data => (\r\n\r\n\r\n\r\n                          <GiftShopItem action={() => Redeem(data.id)} id={data.id} name={data.item_name} price={data.item_price} picture={data.item_picture} remaining={data.item_remaining}        />\r\n                        \r\n\r\n\r\n\r\n                      ))}\r\n\r\n\r\n\r\n\r\n        </div>\r\n      </div>\r\n\r\n      <FooterLoggedIn />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default withRouter(GiftShop)\r\n"]},"metadata":{},"sourceType":"module"}