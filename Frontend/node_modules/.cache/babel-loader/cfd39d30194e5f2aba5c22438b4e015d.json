{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/SHOR/Desktop/Rental-1 CLONE/Rental1/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/SHOR/Desktop/Rental-1 CLONE/Rental1/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/SHOR/Desktop/Rental-1 CLONE/Rental1/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{useState,useEffect}from\"react\";import axios from'axios';import edit_icon from'../components/imgs/edit_icon.png';import{Link}from'react-router-dom';import loading2 from\"../components/imgs/loading2.svg\";import ReactPaginate from\"react-paginate\";import AdminNavbar from'../components/AdminNavbar';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AdminRental=function AdminRental(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),rentalList=_useState4[0],setrentalList=_useState4[1];var _useState5=useState(rentalList.slice(0,10)),_useState6=_slicedToArray(_useState5,2),carRentals=_useState6[0],setCarRentals=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),pageNumber=_useState8[0],setPageNumber=_useState8[1];var rentalsPerPage=10;var pagesVisited=pageNumber*rentalsPerPage;var displayRentals=carRentals.slice(pagesVisited,pagesVisited+rentalsPerPage).map(function(rentals){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:rentals.kolcsonzes_id}),/*#__PURE__*/_jsx(\"td\",{children:rentals.kolcsonzo_vezeteknev+\" \"+rentals.kolcsonzo_keresztnev}),/*#__PURE__*/_jsx(\"td\",{children:rentals.kolcsonzo_telefon}),/*#__PURE__*/_jsx(\"td\",{children:rentals.kolcsonzott_modell}),/*#__PURE__*/_jsx(\"td\",{children:rentals.kolcsonzes_start}),/*#__PURE__*/_jsx(\"td\",{children:rentals.kolcsonzes_end}),/*#__PURE__*/_jsx(\"td\",{children:rentals.statusz}),/*#__PURE__*/_jsx(\"td\",{children:rentals.fizetendo}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:\"/admin/dashboard/kolcsonzesek/edit-rental/\".concat(rentals.id),children:/*#__PURE__*/_jsxs(\"button\",{className:\"edit-button\",children:[\"Szerkeszt\\xE9s \",/*#__PURE__*/_jsx(\"img\",{className:\"edit-icon\",src:edit_icon,alt:\"\"}),\" \"]})})})]},rentals.id);});var pageCount=Math.ceil(carRentals.length/rentalsPerPage);var changePage=function changePage(_ref){var selected=_ref.selected;setPageNumber(selected);};useEffect(function(){fetchRentals();},[]);var fetchRentals=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var rental_data_raw,rental_data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/api/dashboard/kolcsonzesek\");case 2:rental_data_raw=_context.sent;_context.next=5;return rental_data_raw.data.kolcsonzesek;case 5:rental_data=_context.sent;setrentalList(rental_data);setCarRentals(rental_data);setLoading(false);case 9:case\"end\":return _context.stop();}}},_callee);}));return function fetchRentals(){return _ref2.apply(this,arguments);};}();var TableContent=\"\";if(loading===true){TableContent=/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{className:\"svg_loader\",src:loading2,alt:\"\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{className:\"svg_loader\",src:loading2,alt:\"\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{className:\"svg_loader\",src:loading2,alt:\"\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{className:\"svg_loader\",src:loading2,alt:\"\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{className:\"svg_loader\",src:loading2,alt:\"\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{className:\"svg_loader\",src:loading2,alt:\"\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{className:\"svg_loader\",src:loading2,alt:\"\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{className:\"svg_loader\",src:loading2,alt:\"\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{className:\"svg_loader\",src:loading2,alt:\"\"})})]});}else{TableContent=displayRentals;}return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-container\",children:[/*#__PURE__*/_jsx(AdminNavbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"admin_content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"overview_panel\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"K\\xF6lcs\\xF6nz\\xE9sek\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"table\",{className:\"admin-kolcsonzesek\",children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"K\\xF6lcs\\xF6nz\\xE9s azonos\\xEDt\\xF3\"}),/*#__PURE__*/_jsx(\"th\",{children:\"K\\xF6lcs\\xF6nz\\u0151 neve\"}),/*#__PURE__*/_jsx(\"th\",{children:\"K\\xF6lcs\\xF6nz\\u0151 telefonsz\\xE1ma\"}),/*#__PURE__*/_jsx(\"th\",{children:\"K\\xF6lcs\\xF6nz\\xF6tt modell\"}),/*#__PURE__*/_jsx(\"th\",{children:\"K\\xF6lcs\\xF6nz\\xE9s kezdete\"}),/*#__PURE__*/_jsx(\"th\",{children:\"K\\xF6lcs\\xF6nz\\xE9s v\\xE9ge\"}),/*#__PURE__*/_jsx(\"th\",{children:\"St\\xE1tusz\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Fizetend\\u0151\"}),/*#__PURE__*/_jsx(\"th\",{children:\"M\\u0171veletek\"})]}),TableContent]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(ReactPaginate,{previousLabel:\"Előző\",nextLabel:\"Következő\",pageCount:pageCount,onPageChange:changePage,containerClassName:\"paginationBttns\",activeClassName:\"paginationActive\"}),/*#__PURE__*/_jsx(\"br\",{})]})})]});};export default AdminRental;","map":{"version":3,"sources":["C:/Users/SHOR/Desktop/Rental-1 CLONE/Rental1/Frontend/src/pages/AdminRental.js"],"names":["React","useState","useEffect","axios","edit_icon","Link","ReactPaginate","AdminNavbar","AdminRental","loading","setLoading","rentalList","setrentalList","slice","carRentals","setCarRentals","pageNumber","setPageNumber","rentalsPerPage","pagesVisited","displayRentals","map","rentals","kolcsonzes_id","kolcsonzo_vezeteknev","kolcsonzo_keresztnev","kolcsonzo_telefon","kolcsonzott_modell","kolcsonzes_start","kolcsonzes_end","statusz","fizetendo","id","pageCount","Math","ceil","length","changePage","selected","fetchRentals","get","rental_data_raw","data","kolcsonzesek","rental_data","TableContent","loading2"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { useState, useEffect } from \"react\"\r\nimport axios from 'axios'\r\nimport edit_icon from '../components/imgs/edit_icon.png'\r\nimport {Link} from 'react-router-dom'\r\nimport loading2 from '../components/imgs/loading2.svg'\r\nimport ReactPaginate from \"react-paginate\";\r\nimport AdminNavbar from '../components/AdminNavbar'\r\n\r\nconst AdminRental = () => {\r\n\r\n\r\n\r\nconst [loading, setLoading] = useState(true);\r\nconst [rentalList, setrentalList] = useState([]);\r\n\r\n const [carRentals, setCarRentals] = useState(rentalList.slice(0, 10));\r\n const [pageNumber, setPageNumber] = useState(0);\r\n\r\n  const rentalsPerPage = 10;\r\n  const pagesVisited = pageNumber * rentalsPerPage;\r\n\r\n  const displayRentals = carRentals\r\n    .slice(pagesVisited, pagesVisited + rentalsPerPage)\r\n    .map((rentals) => {\r\n      return (\r\n    \r\n                        <tr key={rentals.id}>\r\n                        <td>{rentals.kolcsonzes_id}</td>\r\n                        <td>{rentals.kolcsonzo_vezeteknev + \" \" + rentals.kolcsonzo_keresztnev}</td>\r\n                        <td>{rentals.kolcsonzo_telefon}</td>\r\n                        <td>{rentals.kolcsonzott_modell}</td>\r\n                        <td>{rentals.kolcsonzes_start}</td>\r\n                        <td>{rentals.kolcsonzes_end}</td>\r\n                        <td>{rentals.statusz}</td>\r\n                        <td>{rentals.fizetendo}</td>\r\n                        <td>\r\n                        <Link to={`/admin/dashboard/kolcsonzesek/edit-rental/${rentals.id}`}>\r\n                        <button className=\"edit-button\">Szerkesztés <img className=\"edit-icon\" src={edit_icon} alt=\"\" /> </button>\r\n                        </Link>\r\n                        </td>\r\n                        </tr>\r\n      )         \r\n                        \r\n\r\n     \r\n    });\r\n\r\n  const pageCount = Math.ceil(carRentals.length / rentalsPerPage);\r\n\r\n  const changePage = ({ selected }) => {\r\n    setPageNumber(selected);\r\n  };\r\n\r\n\r\n\r\n\r\nuseEffect(() => {\r\n                   fetchRentals();\r\n                   \r\n                    \r\n                }, []);\r\n\r\n     const fetchRentals = async() => {\r\n          const rental_data_raw = await axios.get(`/api/dashboard/kolcsonzesek`);\r\n          const rental_data = await rental_data_raw.data.kolcsonzesek;\r\n          setrentalList(rental_data);\r\n          setCarRentals(rental_data);\r\n          \r\n          setLoading(false);\r\n\r\n    };\r\n\r\n\r\n                      \r\n                       \r\n                      \r\n    \r\n                        \r\n                     \r\n                      \r\n\r\n    var TableContent = \"\";\r\n\r\n\r\n    if(loading === true) {\r\n\r\n        TableContent = (\r\n        <tr>\r\n\r\n      \r\n          <td><img className=\"svg_loader\" src={loading2} alt=\"\" /></td>\r\n           <td><img className=\"svg_loader\" src={loading2} alt=\"\" /></td>\r\n            <td><img className=\"svg_loader\" src={loading2} alt=\"\" /></td>\r\n             <td><img className=\"svg_loader\" src={loading2} alt=\"\" /></td>\r\n              <td><img className=\"svg_loader\" src={loading2} alt=\"\" /></td>\r\n               <td><img className=\"svg_loader\" src={loading2} alt=\"\" /></td>\r\n                <td><img className=\"svg_loader\" src={loading2} alt=\"\" /></td>\r\n                 <td><img className=\"svg_loader\" src={loading2} alt=\"\" /></td>\r\n                  <td><img className=\"svg_loader\" src={loading2} alt=\"\" /></td>\r\n        \r\n   \r\n\r\n        </tr>\r\n        );\r\n\r\n      \r\n\r\n\r\n\r\n    } else {\r\n\r\n\r\n\r\nTableContent = displayRentals;\r\n\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"dashboard-container\">\r\n\r\n               <AdminNavbar />\r\n\r\n            <div className=\"admin_content\">\r\n                <div className=\"overview_panel\">\r\n\r\n                    <h1>Kölcsönzések</h1>\r\n                    <br />\r\n                    <table className=\"admin-kolcsonzesek\">\r\n                        <tr>\r\n                            <th>Kölcsönzés azonosító</th>\r\n                            <th>Kölcsönző neve</th>\r\n                            <th>Kölcsönző telefonszáma</th>\r\n                            <th>Kölcsönzött modell</th>\r\n                            <th>Kölcsönzés kezdete</th>\r\n                            <th>Kölcsönzés vége</th>\r\n                            <th>Státusz</th>\r\n                            <th>Fizetendő</th>\r\n                            <th>Műveletek</th>\r\n                        </tr>\r\n\r\n                      \r\n                            { TableContent }\r\n                     </table>\r\n                     <br />\r\n                            <ReactPaginate\r\n                                    previousLabel={\"Előző\"}\r\n                                    nextLabel={\"Következő\"}\r\n                                    pageCount={pageCount}\r\n                                    onPageChange={changePage}\r\n                                    containerClassName={\"paginationBttns\"}\r\n                                    activeClassName={\"paginationActive\"}\r\n                                />\r\n\r\n                   \r\n\r\n\r\n               \r\n                            <br />\r\n\r\n                </div>  \r\n             </div> \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AdminRental\r\n\r\n\r\n \r\n\r\n\r\n\r\n\r\n     \r\n   \r\n\r\n    "]},"metadata":{},"sourceType":"module"}