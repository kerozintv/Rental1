{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/SHOR/Desktop/Rental-1 CLONE/Rental1/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/SHOR/Desktop/Rental-1 CLONE/Rental1/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"C:/Users/SHOR/Desktop/Rental-1 CLONE/Rental1/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/SHOR/Desktop/Rental-1 CLONE/Rental1/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/SHOR/Desktop/Rental-1 CLONE/Rental1/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{Link}from'react-router-dom';import{useState,useEffect}from\"react\";import axios from'axios';import edit_icon from'../components/imgs/edit_icon.png';import save_icon from'../components/imgs/save_icon.png';import Swal from'sweetalert2';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditRentalRow=function EditRentalRow(_ref){var match=_ref.match;useEffect(function(){fetchRentals();},[]);var _useState=useState({v_nev:'',k_nev:'',phone:'',statusz:''}),_useState2=_slicedToArray(_useState,2),editInput=_useState2[0],setEditInput=_useState2[1];var handleInput=function handleInput(e){e.persist();setEditInput(_objectSpread(_objectSpread({},editInput),{},_defineProperty({},e.target.name,e.target.value)));};var fetchRentals=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var row_data_raw,row_data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/api/admin/edit-rental/\".concat(match.params.rental_id));case 2:row_data_raw=_context.sent;row_data=row_data_raw.data.selected_row;setEditInput({v_nev:row_data.kolcsonzo_vezeteknev,k_nev:row_data.kolcsonzo_keresztnev,phone:row_data.kolcsonzo_telefon,statusz:row_data.statusz});case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchRentals(){return _ref2.apply(this,arguments);};}();var data={row_id:match.params.rental_id,v_nev:editInput.v_nev,k_nev:editInput.k_nev,phone:editInput.phone,statusz:editInput.statusz};var editSubmit=function editSubmit(e){e.preventDefault();////  <----  Fontos, k√ºl√∂nben folyamatosan friss√≠ti az inputokat\naxios.post(\"/api/admin/update-rental\",data);Swal.fire(\"Sikeres ment√©s!\",'','success');};return/*#__PURE__*/_jsxs(\"div\",{className:\"edit-rental-container\",children:[/*#__PURE__*/_jsx(Link,{to:\"/admin/dashboard/kolcsonzesek\",children:/*#__PURE__*/_jsx(\"button\",{className:\"back_button\",children:\"\\uD83E\\uDC38 Vissza\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"edit_panel\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:editSubmit,className:\"edit_form\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"edit_form_icon\",src:edit_icon,alt:\"\"}),/*#__PURE__*/_jsx(\"p\",{children:\"K\\xF6lcs\\xF6n\\u0151 vezet\\xE9kneve:\"}),/*#__PURE__*/_jsx(\"input\",{name:\"v_nev\",type:\"text\",onChange:handleInput,value:editInput.v_nev}),/*#__PURE__*/_jsx(\"p\",{children:\"K\\xF6lcs\\xF6n\\u0151 keresztneve:\"}),/*#__PURE__*/_jsx(\"input\",{name:\"k_nev\",type:\"text\",onChange:handleInput,value:editInput.k_nev}),/*#__PURE__*/_jsx(\"p\",{children:\"K\\xF6lcs\\xF6n\\u0151 telefonsz\\xE1ma:\"}),/*#__PURE__*/_jsx(\"input\",{name:\"phone\",type:\"text\",onChange:handleInput,value:editInput.phone}),/*#__PURE__*/_jsx(\"p\",{children:\"St\\xE1tusz:\"}),/*#__PURE__*/_jsxs(\"select\",{onChange:handleInput,name:\"statusz\",id:\"select\",value:editInput.statusz,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\\xC1tv\\xE9telre v\\xE1r.\",children:\"\\xC1tv\\xE9telre v\\xE1r.\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Elutas\\xEDtva.\",children:\"Elutas\\xEDtva.\"}),/*#__PURE__*/_jsx(\"option\",{value:\"K\\xF6lcs\\xF6nz\\xE9s alatt.\",children:\"K\\xF6lcs\\xF6nz\\xE9s alatt.\"}),/*#__PURE__*/_jsx(\"option\",{value:\"K\\xF6lcs\\xF6nz\\xE9s befejezve.\",children:\"K\\xF6lcs\\xF6nz\\xE9s befejezve.\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"save_button\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"save_icon\",src:save_icon,alt:\"\"}),\" Ment\\xE9s\"]})})]})})]});};export default EditRentalRow;","map":{"version":3,"sources":["C:/Users/SHOR/Desktop/Rental-1 CLONE/Rental1/Frontend/src/pages/EditRentalRow.js"],"names":["React","Link","useState","useEffect","axios","edit_icon","save_icon","Swal","EditRentalRow","match","fetchRentals","v_nev","k_nev","phone","statusz","editInput","setEditInput","handleInput","e","persist","target","name","value","get","params","rental_id","row_data_raw","row_data","data","selected_row","kolcsonzo_vezeteknev","kolcsonzo_keresztnev","kolcsonzo_telefon","row_id","editSubmit","preventDefault","post","fire"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport { useState, useEffect } from \"react\"\r\nimport axios from 'axios'\r\nimport edit_icon from '../components/imgs/edit_icon.png'\r\nimport save_icon from '../components/imgs/save_icon.png'\r\nimport Swal from 'sweetalert2'\r\n\r\nconst EditRentalRow = ({ match }) => {\r\n\r\n \r\n\r\nuseEffect(() => {\r\nfetchRentals();\r\n}, []);\r\n\r\n\r\n\r\nconst [editInput, setEditInput] = useState({\r\n\r\n    v_nev: '',\r\n    k_nev: '',\r\n    phone: '',\r\n    statusz: '',\r\n\r\n});\r\n\r\n\r\nconst handleInput = (e) => {\r\n\r\n  e.persist();\r\n  setEditInput({...editInput, [e.target.name]: e.target.value});\r\n\r\n}\r\n\r\n\r\n\r\nconst fetchRentals = async() => {\r\n        \r\n          const row_data_raw = await axios.get(`/api/admin/edit-rental/${match.params.rental_id}`);\r\n          const row_data = row_data_raw.data.selected_row;\r\n\r\n          setEditInput({\r\n           v_nev: row_data.kolcsonzo_vezeteknev,\r\n           k_nev: row_data.kolcsonzo_keresztnev,\r\n           phone: row_data.kolcsonzo_telefon,\r\n           statusz: row_data.statusz,\r\n          \r\n          });\r\n\r\n    };\r\n\r\n\r\n    const data = {\r\n    row_id: match.params.rental_id,\r\n    v_nev: editInput.v_nev,\r\n    k_nev: editInput.k_nev,\r\n    phone: editInput.phone,\r\n    statusz: editInput.statusz,\r\n\r\n    }\r\n\r\n\r\nconst editSubmit = (e) => {\r\n \r\ne.preventDefault();   ////  <----  Fontos, k√ºl√∂nben folyamatosan friss√≠ti az inputokat\r\n\r\naxios.post(`/api/admin/update-rental`, data);\r\n\r\n        Swal.fire(\r\n        \"Sikeres ment√©s!\",\r\n        '',\r\n        'success'\r\n        )\r\n\r\n};\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"edit-rental-container\">\r\n       \r\n       <Link to=\"/admin/dashboard/kolcsonzesek\">\r\n        <button className=\"back_button\">ü†∏ Vissza</button>\r\n        </Link>\r\n\r\n                <div className=\"edit_panel\">\r\n                \r\n                 <form onSubmit={editSubmit}  className=\"edit_form\">\r\n                    <img className=\"edit_form_icon\" src={edit_icon} alt=\"\" />\r\n                      <p>K√∂lcs√∂n≈ë vezet√©kneve:</p>\r\n                     <input name=\"v_nev\" type=\"text\" onChange={handleInput} value={editInput.v_nev} />\r\n                      <p>K√∂lcs√∂n≈ë keresztneve:</p>\r\n                     <input name=\"k_nev\" type=\"text\" onChange={handleInput} value={editInput.k_nev}  />\r\n                       <p>K√∂lcs√∂n≈ë telefonsz√°ma:</p>\r\n                     <input name=\"phone\" type=\"text\" onChange={handleInput} value={editInput.phone}  />\r\n                      <p>St√°tusz:</p>\r\n                      <select onChange={handleInput} name=\"statusz\" id=\"select\" value={editInput.statusz}>\r\n\r\n                          <option  value=\"√Åtv√©telre v√°r.\">√Åtv√©telre v√°r.</option>\r\n                          <option  value=\"Elutas√≠tva.\">Elutas√≠tva.</option>\r\n                          <option  value=\"K√∂lcs√∂nz√©s alatt.\">K√∂lcs√∂nz√©s alatt.</option>\r\n                          <option  value=\"K√∂lcs√∂nz√©s befejezve.\">K√∂lcs√∂nz√©s befejezve.</option>\r\n\r\n                      </select>\r\n                 <div>\r\n                    <button type=\"submit\" className=\"save_button\">\r\n                        <img className=\"save_icon\" src={save_icon} alt=\"\" /> Ment√©s \r\n                    </button>\r\n                </div>\r\n     \r\n                 </form>\r\n\r\n                 \r\n                </div>\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EditRentalRow\r\n"]},"metadata":{},"sourceType":"module"}