{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/SHOR/Desktop/Rental-1 CLONE/Rental1/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/SHOR/Desktop/Rental-1 CLONE/Rental1/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/SHOR/Desktop/Rental-1 CLONE/Rental1/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/* eslint-disable react-hooks/exhaustive-deps */import React from'react';import NavbarLoggedin from'../components/NavbarLoggedin';import Banner from'../components/Banner';import FooterLoggedIn from'../components/FooterLoggedIn';import{useState,useEffect}from'react';import axios from'axios';import loading2 from\"../components/imgs/loading2.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UserRentals=function UserRentals(e){var user_id=localStorage.getItem('user_id');///  Clears the notifications\nvar clearNotifications=function clearNotifications(){axios.get(\"/api/clearNotifications/\".concat(user_id));};clearNotifications();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),userRentals=_useState2[0],setUserRentals=_useState2[1];axios.defaults.withCredentials=true;axios.defaults.headers.post['Content-Type']='application/json';axios.defaults.headers.post['Accept']='application/json';useEffect(function(){fetchData();},[]);var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var rentalRawData,rentalData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/api/getUserRentals/\".concat(user_id));case 2:rentalRawData=_context.sent;_context.next=5;return rentalRawData.data.user_rentals;case 5:rentalData=_context.sent;setUserRentals(rentalData);setLoading(false);case 8:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();var content='';if(loading===true){content=/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{className:\"svg_loader\",src:loading2,alt:\"\"})}),/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsx(\"td\",{})]});}else{content=userRentals.map(function(rentals){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:rentals.kolcsonzes_id}),/*#__PURE__*/_jsx(\"td\",{children:rentals.kolcsonzott_modell}),/*#__PURE__*/_jsx(\"td\",{children:rentals.kolcsonzes_start}),/*#__PURE__*/_jsx(\"td\",{children:rentals.kolcsonzes_end}),/*#__PURE__*/_jsx(\"td\",{children:rentals.fizetendo}),/*#__PURE__*/_jsx(\"td\",{children:rentals.statusz})]},rentals.id);});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(NavbarLoggedin,{}),/*#__PURE__*/_jsx(\"div\",{className:\"empty_space\"}),/*#__PURE__*/_jsx(Banner,{title:\"K\\xF6lcs\\xF6nz\\xE9sek\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"user_rentals\",children:[\",\",/*#__PURE__*/_jsx(\"div\",{className:\"rentals_table\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"K\\xF6lcs\\xF6nz\\xE9s azonos\\xEDt\\xF3 k\\xF3d\"}),/*#__PURE__*/_jsx(\"th\",{children:\"K\\xF6lcs\\xF6nz\\xF6tt modell\"}),/*#__PURE__*/_jsx(\"th\",{children:\"K\\xF6lcs\\xF6nz\\xE9s kezdete\"}),/*#__PURE__*/_jsx(\"th\",{children:\"K\\xF6lcs\\xF6nz\\xE9s v\\xE9ge\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Fizetend\\u0151\"}),/*#__PURE__*/_jsx(\"th\",{children:\"St\\xE1tusz\"})]}),content]})})]}),/*#__PURE__*/_jsx(FooterLoggedIn,{})]});};export default UserRentals;","map":{"version":3,"sources":["C:/Users/SHOR/Desktop/Rental-1 CLONE/Rental1/Frontend/src/pages/UserRentals.js"],"names":["React","NavbarLoggedin","Banner","FooterLoggedIn","useState","useEffect","axios","UserRentals","e","user_id","localStorage","getItem","clearNotifications","get","userRentals","setUserRentals","defaults","withCredentials","headers","post","fetchData","loading","setLoading","rentalRawData","data","user_rentals","rentalData","content","loading2","map","rentals","kolcsonzes_id","kolcsonzott_modell","kolcsonzes_start","kolcsonzes_end","fizetendo","statusz","id"],"mappings":"igBAAA,gDACA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,cAAP,KAA2B,8BAA3B,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,MAAOC,CAAAA,cAAP,KAA2B,8BAA3B,CACA,OAAQC,QAAR,CAAkBC,SAAlB,KAAkC,OAAlC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,8IAQA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,CAAD,CAAO,CAG3B,GAAMC,CAAAA,OAAO,CAAGC,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAhB,CAGA;AAEA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,EAAM,CAEjCN,KAAK,CAACO,GAAN,mCAAqCJ,OAArC,GAEC,CAJD,CAMAG,kBAAkB,GAIlB,cAAsCR,QAAQ,CAAC,EAAD,CAA9C,wCAAOU,WAAP,eAAoBC,cAApB,eAIUT,KAAK,CAACU,QAAN,CAAeC,eAAf,CAAiC,IAAjC,CACAX,KAAK,CAACU,QAAN,CAAeE,OAAf,CAAuBC,IAAvB,CAA4B,cAA5B,EAA8C,kBAA9C,CACAb,KAAK,CAACU,QAAN,CAAeE,OAAf,CAAuBC,IAAvB,CAA4B,QAA5B,EAAwC,kBAAxC,CAIEd,SAAS,CAAC,UAAM,CACRe,SAAS,GAEZ,CAHI,CAGF,EAHE,CAAT,CAKR,eAA8BhB,QAAQ,CAAC,IAAD,CAAtC,yCAAOiB,OAAP,eAAgBC,UAAhB,eAEA,GAAMF,CAAAA,SAAS,0FAAG,sLACgBd,CAAAA,KAAK,CAACO,GAAN,+BAAiCJ,OAAjC,EADhB,QACNc,aADM,qCAEaA,CAAAA,aAAa,CAACC,IAAd,CAAmBC,YAFhC,QAENC,UAFM,eAGZX,cAAc,CAACW,UAAD,CAAd,CACAJ,UAAU,CAAC,KAAD,CAAV,CAJY,sDAAH,kBAATF,CAAAA,SAAS,0CAAf,CAWA,GAAIO,CAAAA,OAAO,CAAG,EAAd,CAEA,GAAGN,OAAO,GAAK,IAAf,CAAqB,CAEnBM,OAAO,cACO,mCACA,aADA,cAEA,aAFA,cAGC,iCAAI,YAAK,SAAS,CAAC,YAAf,CAA4B,GAAG,CAAEC,QAAjC,CAA2C,GAAG,CAAC,EAA/C,EAAJ,EAHD,cAIC,aAJD,cAKA,aALA,cAMC,aAND,GADd,CAcD,CAhBD,IAgBO,CAICD,OAAO,CAAEb,WAAW,CAACe,GAAZ,CAAgB,SAAAC,OAAO,qBACxB,mCACA,oBAAKA,OAAO,CAACC,aAAb,EADA,cAEA,oBAAKD,OAAO,CAACE,kBAAb,EAFA,cAGA,oBAAKF,OAAO,CAACG,gBAAb,EAHA,cAIA,oBAAKH,OAAO,CAACI,cAAb,EAJA,cAKA,oBAAKJ,OAAO,CAACK,SAAb,EALA,cAMA,oBAAKL,OAAO,CAACM,OAAb,EANA,GAASN,OAAO,CAACO,EAAjB,CADwB,EAAvB,CAAT,CAgBP,CAMD,mBACI,oCAEA,KAAC,cAAD,IAFA,cAGA,YAAK,SAAS,CAAC,aAAf,EAHA,cAIA,KAAC,MAAD,EAAQ,KAAK,CAAC,uBAAd,EAJA,cAKA,aAAK,SAAS,CAAC,cAAf,4BACI,YAAK,SAAS,CAAC,eAAf,uBACI,sCACA,mCACI,kEADJ,cAEI,mDAFJ,cAGI,mDAHJ,cAII,mDAJJ,cAKI,sCALJ,cAMI,kCANJ,GADA,CAUUV,OAVV,GADJ,EADJ,GALA,cAwBA,KAAC,cAAD,IAxBA,GADJ,CAgCH,CA1HD,CA4HA,cAAepB,CAAAA,WAAf","sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React from 'react'\r\nimport NavbarLoggedin from '../components/NavbarLoggedin'\r\nimport Banner from '../components/Banner'\r\nimport FooterLoggedIn from '../components/FooterLoggedIn'\r\nimport {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\nimport loading2 from '../components/imgs/loading2.svg'\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst UserRentals = (e) => {\r\n\r\n\r\nconst user_id = localStorage.getItem('user_id');\r\n\r\n\r\n///  Clears the notifications\r\n\r\nconst clearNotifications = () => {\r\n\r\naxios.get(`/api/clearNotifications/${user_id}`)\r\n\r\n};\r\n\r\nclearNotifications();\r\n\r\n\r\n\r\nconst [userRentals, setUserRentals] = useState([]);\r\n\r\n\r\n\r\n          axios.defaults.withCredentials = true;\r\n          axios.defaults.headers.post['Content-Type'] = 'application/json';\r\n          axios.defaults.headers.post['Accept'] = 'application/json'; \r\n\r\n       \r\n\r\n            useEffect(() => {\r\n                    fetchData();\r\n                    \r\n                }, []);\r\n\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const fetchData = async() => {\r\n          const rentalRawData = await axios.get(`/api/getUserRentals/${user_id}`);\r\n          const rentalData = await rentalRawData.data.user_rentals;\r\n          setUserRentals(rentalData);\r\n          setLoading(false);\r\n\r\n    };\r\n\r\n\r\n\r\n\r\n    var content = '';\r\n\r\n    if(loading === true) {\r\n\r\n      content = (\r\n                    <tr>\r\n                    <td></td>\r\n                    <td></td>\r\n                     <td><img className=\"svg_loader\" src={loading2} alt=\"\" /></td>\r\n                     <td></td>\r\n                    <td></td>\r\n                     <td></td>\r\n                    \r\n                     </tr>\r\n        \r\n                );\r\n\r\n\r\n    } else {\r\n\r\n        \r\n        \r\n            content=(userRentals.map(rentals => (\r\n                    <tr key={rentals.id}>\r\n                    <td>{rentals.kolcsonzes_id}</td>\r\n                    <td>{rentals.kolcsonzott_modell}</td>\r\n                    <td>{rentals.kolcsonzes_start}</td>\r\n                    <td>{rentals.kolcsonzes_end}</td>\r\n                    <td>{rentals.fizetendo}</td>\r\n                    <td>{rentals.statusz}</td>\r\n\r\n                    </tr>\r\n            \r\n            \r\n            )\r\n\r\n        ))\r\n\r\n    }\r\n       \r\n\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n\r\n        <NavbarLoggedin />\r\n        <div className=\"empty_space\"></div>\r\n        <Banner title=\"Kölcsönzések\" /> \r\n        <div className=\"user_rentals\">,\r\n            <div className=\"rentals_table\">\r\n                <table>\r\n                <tr>\r\n                    <th>Kölcsönzés azonosító kód</th>\r\n                    <th>Kölcsönzött modell</th>\r\n                    <th>Kölcsönzés kezdete</th>\r\n                    <th>Kölcsönzés vége</th>\r\n                    <th>Fizetendő</th>\r\n                    <th>Státusz</th>\r\n                </tr>\r\n\r\n                         {content}\r\n\r\n\r\n                </table>\r\n            </div>\r\n            \r\n        </div>\r\n        <FooterLoggedIn />\r\n\r\n     \r\n    \r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserRentals\r\n"]},"metadata":{},"sourceType":"module"}