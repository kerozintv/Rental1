{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SHOR\\\\Desktop\\\\Projects\\\\rental-1\\\\src\\\\pages\\\\GiftShop.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport NavbarLoggedin from '../components/NavbarLoggedin';\nimport Banner from '../components/Banner';\nimport FooterLoggedIn from '../components/FooterLoggedIn';\nimport GiftShopItem from '../components/GiftShopItem';\nimport { withRouter } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst GiftShop = () => {\n  _s();\n\n  const user_id = localStorage.getItem('user_id');\n  useEffect(() => {\n    fetchData();\n    fetchPoints();\n  }, []);\n  const [giftshop_data, set_giftshop_data] = useState([]);\n  const [husegpontok, set_husegpontok] = useState();\n\n  const fetchData = async () => {\n    const shop_data_raw = await axios.get(`api/giftstore/get-remaining-items`);\n    const shop_data = await shop_data_raw.data.items;\n    set_giftshop_data(shop_data);\n  };\n\n  const fetchPoints = async () => {\n    const data_raw = await axios.get(`api/points/users/${user_id}`);\n    const points = await data_raw.data.husegpontok;\n    set_husegpontok(points);\n  };\n\n  const [message, setMessage] = useState({\n    status: '',\n    message: ''\n  });\n\n  const Redeem = id => {\n    Swal.fire({\n      text: \"Biztosan be szeretné váltani pontjait erre a tételre?\",\n      icon: 'question',\n      showCancelButton: true,\n      confirmButtonColor: '#23552f',\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'Igen, beváltom',\n      cancelButtonText: 'Mégsem'\n    }).then(result => {\n      if (result.isConfirmed) {\n        const data = {\n          user_id: user_id,\n          item_id: id\n        };\n        axios.defaults.headers.post['Content-Type'] = 'application/json';\n        axios.defaults.headers.post['Accept'] = 'application/json';\n        axios.get('/sanctum/csrf-cookie').then(response => {\n          axios.post(`giftstore/redeem-item`, data).then(res => {\n            setMessage({ ...message,\n              status: res.data.status\n            });\n            setMessage({ ...message,\n              message: res.data.message\n            });\n\n            if (message.status === 200) {\n              Swal.fire('Az Ön kódja:', message.message, 'success');\n            } else if (message.status === 400) {\n              Swal.fire(':(', message.message, 'error');\n            }\n          });\n        });\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(NavbarLoggedin, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"empty_space\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Banner, {\n      title: \"H\\u0171s\\xE9gprogram\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"huseg_wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"huseg_text\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"A 2021.01.01 - t\\u0151l indult h\\u0171s\\xE9gprogramunkban szeretn\\xE9nk megjutalmazni \\xFCgyfeleinket akik minket v\\xE1lasztanak! Minden n\\xE1lunk 3 nap vagy ann\\xE1l hoszzabb id\\u0151re k\\xF6lcs\\xF6nz\\xF6tt g\\xE9pj\\xE1rm\\u0171 ut\\xE1n 200 h\\u0171s\\xE9gpont ker\\xFCl j\\xF3v\\xE1\\xEDr\\xE1sra \\xFCgyfel\\xFCnk fi\\xF3kj\\xE1n amelyeket a lentebb tal\\xE1lhat\\xF3 aj\\xE1nd\\xE9kokra v\\xE1lthat be! Gy\\u0171jtse \\xD6n is a pontjait amiket bev\\xE1lthat! A pontoz\\xE1s az al\\xE1bbi t\\xE1bl\\xE1zat alapj\\xE1n t\\xF6rt\\xE9nik:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"K\\xF6lcs\\xF6nz\\xE9si id\\u0151\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Pont\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"3 nap\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"200 \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"4 nap\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"250 \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"5 nap\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"350 \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"6 nap\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"500 \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"7 nap\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"1000 \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"* FIGYELEM: A h\\u0171s\\xE9gprogram csak a 2021.01.01- t\\u0151l ig\\xE9nybe vet k\\xF6lcs\\xF6nz\\xE9sekre vonatkozik, visszamen\\u0151legesen nem.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this), \"* A h\\u0171s\\xE9gpontok csak akkor ker\\xFClnek j\\xF3v\\xE1\\xEDr\\xE1sra fi\\xF3kj\\xE1ban ha m\\xE1r \\xE1tvette a j\\xE1rm\\u0171vet!\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gift_shop_wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"gift_shop_banner\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Aj\\xE1nd\\xE9kbolt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"points_banner\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Az \\xD6n pontjai: \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"highlighted_number\",\n            children: husegpontok\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 28\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 10\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"giftshop_container\",\n        children: giftshop_data.map(data => /*#__PURE__*/_jsxDEV(GiftShopItem, {\n          action: () => Redeem(data.id),\n          id: data.id,\n          name: data.item_name,\n          price: data.item_price,\n          picture: data.item_picture,\n          remaining: data.item_remaining\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 27\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FooterLoggedIn, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 133,\n    columnNumber: 5\n  }, this);\n};\n\n_s(GiftShop, \"eHThWvJGTKPEHE5q6HLcB0/Iaiw=\");\n\n_c = GiftShop;\nexport default _c2 = withRouter(GiftShop);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"GiftShop\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["C:/Users/SHOR/Desktop/Projects/rental-1/src/pages/GiftShop.js"],"names":["React","NavbarLoggedin","Banner","FooterLoggedIn","GiftShopItem","withRouter","useState","useEffect","axios","Swal","GiftShop","user_id","localStorage","getItem","fetchData","fetchPoints","giftshop_data","set_giftshop_data","husegpontok","set_husegpontok","shop_data_raw","get","shop_data","data","items","data_raw","points","message","setMessage","status","Redeem","id","fire","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","then","result","isConfirmed","item_id","defaults","headers","post","response","res","map","item_name","item_price","item_picture","item_remaining"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport NavbarLoggedin from '../components/NavbarLoggedin'\r\nimport Banner from '../components/Banner'\r\nimport FooterLoggedIn from '../components/FooterLoggedIn'\r\nimport GiftShopItem from '../components/GiftShopItem'\r\nimport {withRouter} from 'react-router-dom'\r\nimport {useState, useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2'\r\n\r\nconst GiftShop = () => {\r\n\r\n\r\n\r\n\r\n\r\nconst user_id = localStorage.getItem('user_id');\r\n\r\n useEffect(() => {\r\n          fetchData();\r\n          fetchPoints();\r\n      }, []);\r\n\r\n\r\n\r\n    const [giftshop_data, set_giftshop_data] = useState([]);\r\n    const [husegpontok, set_husegpontok] = useState();\r\n\r\n\r\n    const fetchData = async() => {\r\n          const shop_data_raw = await axios.get(`api/giftstore/get-remaining-items`);\r\n          const shop_data= await shop_data_raw.data.items;\r\n          set_giftshop_data(shop_data);\r\n\r\n    };\r\n\r\n        const fetchPoints = async() => {\r\n          const data_raw = await axios.get(`api/points/users/${user_id}`);\r\n          const points = await data_raw.data.husegpontok;\r\n          set_husegpontok(points);\r\n\r\n    };\r\n\r\n\r\n        const [message, setMessage] = useState({\r\n\r\n              status: '',\r\n              message: '',\r\n              \r\n               });\r\n\r\n    \r\n\r\n\r\n\r\n    const Redeem = (id) => {\r\n    \r\n    Swal.fire({\r\n  \r\n        text: \"Biztosan be szeretné váltani pontjait erre a tételre?\",\r\n        icon: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#23552f',\r\n        cancelButtonColor: '#d33',\r\n        confirmButtonText: 'Igen, beváltom',\r\n        cancelButtonText: 'Mégsem'\r\n}).then((result) => {\r\n\r\n  if (result.isConfirmed) {\r\n\r\n        const data = {\r\n          user_id: user_id,\r\n          item_id: id,\r\n        }\r\n        axios.defaults.headers.post['Content-Type'] = 'application/json';\r\n          axios.defaults.headers.post['Accept'] = 'application/json';\r\n       axios.get('/sanctum/csrf-cookie').then(response => {\r\n       axios.post(`giftstore/redeem-item`, data).then(res => {\r\n       setMessage({...message, status: res.data.status});\r\n       setMessage({...message, message: res.data.message});\r\n        \r\n          if(message.status === 200) {\r\n\r\n            Swal.fire(\r\n\r\n          'Az Ön kódja:',\r\n           message.message,\r\n          'success'\r\n            )\r\n\r\n\r\n          } else if (message.status === 400) {\r\n\r\n           Swal.fire(\r\n\r\n          ':(',\r\n           message.message,\r\n          'error'\r\n            )\r\n\r\n\r\n          }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n       })\r\n\r\n\r\n\r\n\r\n     });\r\n\r\n\r\n\r\n  }\r\n}) }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n      <NavbarLoggedin />\r\n      <div className=\"empty_space\"></div>\r\n      <Banner title=\"Hűségprogram\" />\r\n      <div className=\"huseg_wrapper\">\r\n        <div className=\"huseg_text\">\r\n          <p>\r\n            A 2021.01.01 - től indult hűségprogramunkban szeretnénk\r\n            megjutalmazni ügyfeleinket akik minket választanak! Minden nálunk 3\r\n            nap vagy annál hoszzabb időre kölcsönzött gépjármű után 200\r\n            hűségpont kerül jóváírásra ügyfelünk fiókján amelyeket a lentebb\r\n            található ajándékokra válthat be! Gyűjtse Ön is a pontjait amiket\r\n            beválthat! A pontozás az alábbi táblázat alapján történik:\r\n          </p>\r\n\r\n          <br />\r\n\r\n          <table>\r\n            <tr>\r\n              <th>Kölcsönzési idő</th>\r\n              <th>Pont</th>\r\n            </tr>\r\n            <tr>\r\n              <td>3 nap</td>\r\n              <td>200 </td>\r\n            </tr>\r\n\r\n            <tr>\r\n              <td>4 nap</td>\r\n              <td>250 </td>\r\n            </tr>\r\n\r\n            <tr>\r\n              <td>5 nap</td>\r\n              <td>350 </td>\r\n            </tr>\r\n\r\n            <tr>\r\n              <td>6 nap</td>\r\n              <td>500 </td>\r\n            </tr>\r\n\r\n            <tr>\r\n              <td>7 nap</td>\r\n              <td>1000 </td>\r\n            </tr>\r\n          </table>\r\n\r\n          <br />\r\n          <p>\r\n\r\n            * FIGYELEM: A hűségprogram csak a 2021.01.01- től igénybe vet\r\n            kölcsönzésekre vonatkozik, visszamenőlegesen nem.\r\n            <br />\r\n\r\n            * A hűségpontok csak akkor kerülnek jóváírásra fiókjában ha már átvette a járművet!\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"gift_shop_wrapper\">\r\n        <div className=\"gift_shop_banner\">\r\n          <h1>Ajándékbolt</h1>\r\n        </div>\r\n        <div className=\"points_banner\">\r\n         <p>Az Ön pontjai: <span className=\"highlighted_number\">{husegpontok}</span></p>\r\n    \r\n        </div>\r\n\r\n        <div className=\"giftshop_container\">\r\n\r\n                                {giftshop_data.map(data => (\r\n\r\n\r\n\r\n                          <GiftShopItem action={() => Redeem(data.id)} id={data.id} name={data.item_name} price={data.item_price} picture={data.item_picture} remaining={data.item_remaining}        />\r\n                        \r\n\r\n\r\n\r\n                      ))}\r\n\r\n\r\n\r\n\r\n        </div>\r\n      </div>\r\n\r\n      <FooterLoggedIn />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default withRouter(GiftShop)\r\n"]},"metadata":{},"sourceType":"module"}