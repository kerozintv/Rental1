{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SHOR\\\\Desktop\\\\Projects\\\\rental-1\\\\src\\\\components\\\\LoginForm.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useState } from 'react';\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nimport { useHistory, Redirect } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst LoginForm = props => {\n  _s();\n\n  const history = useHistory();\n  const [loginInput, setLogin] = useState({\n    email_phone: '',\n    password: '',\n    error_list: []\n  });\n\n  const handleInput = e => {\n    e.persist();\n    setLogin({ ...loginInput,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const loginSubmit = e => {\n    e.preventDefault();\n    const data = {\n      email_phone: loginInput.email_phone,\n      password: loginInput.password\n    };\n    axios.get('/sanctum/csrf-cookie').then(response => {\n      axios.post(`api/login`, data).then(res => {\n        if (res.data.status === 200) {\n          localStorage.setItem('auth_token', res.data.token);\n          localStorage.setItem('phone', res.data.phone);\n          localStorage.setItem('user_id', res.data.user_id);\n          localStorage.setItem('v_nev', res.data.v_nev);\n          localStorage.setItem('k_nev', res.data.k_nev);\n          localStorage.setItem('auth_name', res.data.username);\n          Swal.fire(res.data.message, '', 'success');\n          history.push('/kolcsonzes');\n        } else if (res.data.status === 401) {\n          Swal.fire(res.data.message, '', 'error');\n        } else {\n          setLogin({ ...loginInput,\n            error_list: res.data.validation_errors\n          });\n        }\n      });\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login_form_container\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: loginSubmit,\n      className: \"login_form\",\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"\",\n        className: \"form_text\",\n        children: props.form_text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"email_phone\",\n        onChange: handleInput,\n        value: loginInput.email_phone,\n        Placeholder: \"Email-c\\xEDm vagy mobilsz\\xE1m\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"error_message\",\n        children: loginInput.error_list.email_phone\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        onChange: handleInput,\n        value: loginInput.password,\n        Placeholder: \"Jelsz\\xF3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"error_message\",\n        children: loginInput.error_list.password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"primary_button\",\n        children: \"Bejelentkez\\xE9s\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"\",\n        children: \" vagy\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/regisztracio\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"secondary_button\",\n          children: \"Regisztr\\xE1ci\\xF3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 5\n  }, this);\n};\n\n_s(LoginForm, \"1xdE8ESkNJfD3kyIRpJJccEMQr4=\", false, function () {\n  return [useHistory];\n});\n\n_c = LoginForm;\nexport default LoginForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"sources":["C:/Users/SHOR/Desktop/Projects/rental-1/src/components/LoginForm.js"],"names":["React","Link","useState","axios","Swal","useHistory","Redirect","LoginForm","props","history","loginInput","setLogin","email_phone","password","error_list","handleInput","e","persist","target","name","value","loginSubmit","preventDefault","data","get","then","response","post","res","status","localStorage","setItem","token","phone","user_id","v_nev","k_nev","username","fire","message","push","validation_errors","form_text"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport {useState} from 'react'\r\nimport axios from 'axios'\r\nimport Swal from 'sweetalert2'\r\nimport {useHistory, Redirect} from 'react-router-dom'\r\n\r\n\r\n\r\n\r\n\r\nconst LoginForm = (props) => {\r\n\r\n  const history = useHistory();\r\n  const [loginInput, setLogin] = useState({\r\n\r\n  email_phone: '',\r\n  password: '',\r\n  error_list: [],\r\n\r\n  });\r\n\r\n\r\n    const handleInput = (e) => {\r\n\r\n      e.persist();\r\n      setLogin({...loginInput, [e.target.name]: e.target.value });\r\n    }\r\n\r\n\r\n    const loginSubmit = (e) => {\r\n\r\n      e.preventDefault();\r\n      \r\n      const data = {\r\n\r\n          email_phone: loginInput.email_phone,\r\n          password: loginInput.password,\r\n\r\n      }\r\n\r\n       axios.get('/sanctum/csrf-cookie').then(response => {\r\n       axios.post(`api/login`, data).then(res => {\r\n\r\n\r\n         if(res.data.status === 200)\r\n         {\r\n                    localStorage.setItem('auth_token', res.data.token);\r\n                    localStorage.setItem('phone', res.data.phone);\r\n                    localStorage.setItem('user_id', res.data.user_id);\r\n                    localStorage.setItem('v_nev', res.data.v_nev);\r\n                    localStorage.setItem('k_nev', res.data.k_nev);\r\n                    localStorage.setItem('auth_name', res.data.username);\r\n                    \r\n                      Swal.fire(\r\n                        res.data.message,\r\n                        '',\r\n                        'success'\r\n                      )\r\n\r\n                  \r\n                      history.push('/kolcsonzes');\r\n                 \r\n                     \r\n\r\n         }\r\n\r\n         else if(res.data.status === 401)\r\n         {\r\n                      Swal.fire(\r\n                        res.data.message,\r\n                        '',\r\n                        'error'\r\n                      )\r\n\r\n         }\r\n\r\n         else \r\n         {\r\n\r\n           setLogin({...loginInput, error_list: res.data.validation_errors });\r\n\r\n         }\r\n         \r\n\r\n             \r\n       });\r\n});\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"login_form_container\">\r\n      <form onSubmit={loginSubmit} className=\"login_form\">\r\n        <br />\r\n        <label htmlFor=\"\" className=\"form_text\">\r\n          {props.form_text}\r\n        </label>\r\n        <br />\r\n        <input type=\"text\" name=\"email_phone\" onChange={handleInput} value={loginInput.email_phone} Placeholder=\"Email-cím vagy mobilszám\" />\r\n        <br />\r\n         <span className=\"error_message\">{loginInput.error_list.email_phone}</span>\r\n        <input type=\"password\" name=\"password\" onChange={handleInput} value={loginInput.password} Placeholder=\"Jelszó\" />\r\n          <span className=\"error_message\">{loginInput.error_list.password}</span>\r\n        <br />\r\n        <button type=\"submit\" className=\"primary_button\">Bejelentkezés</button>\r\n        <br />\r\n        <label htmlFor=\"\"> vagy</label>\r\n        <br />\r\n        <Link to=\"/regisztracio\">\r\n          <button type=\"submit\" className=\"secondary_button\">Regisztráció</button>\r\n        </Link>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default LoginForm\r\n"]},"metadata":{},"sourceType":"module"}