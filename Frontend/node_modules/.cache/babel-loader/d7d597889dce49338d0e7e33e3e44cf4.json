{"ast":null,"code":"import _defineProperty from\"C:/Users/SHOR/Desktop/Rental-1 CLONE/Rental1/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/SHOR/Desktop/Rental-1 CLONE/Rental1/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/SHOR/Desktop/Rental-1 CLONE/Rental1/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import mini_logo from'../components/imgs/logo.png';import{useState}from'react';import axios from'axios';import Swal from'sweetalert2';import{useHistory}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AdminLogin=function AdminLogin(){var history=useHistory();var _useState=useState({work_id:'',password:'',error_list:[]}),_useState2=_slicedToArray(_useState,2),loginInput=_useState2[0],setLogin=_useState2[1];var handleInput=function handleInput(e){e.persist();setLogin(_objectSpread(_objectSpread({},loginInput),{},_defineProperty({},e.target.name,e.target.value)));};var loginSubmit=function loginSubmit(e){e.preventDefault();var data={work_id:loginInput.work_id,password:loginInput.password};axios.get('/sanctum/csrf-cookie').then(function(response){axios.post(\"api/admin/login\",data).then(function(res){if(res.data.status===200){localStorage.setItem('auth_token',res.data.token);localStorage.setItem('admin_v_nev',res.data.admin_v_nev);localStorage.setItem('admin_k_nev',res.data.admin_k_nev);localStorage.setItem('admin',true);Swal.fire({title:res.data.message,icon:'success',iconColor:'#23552f',showCancelButton:false,showConfirmButton:false});history.push('admin/dashboard');}else if(res.data.status===401){Swal.fire({title:res.data.message,icon:'warning',iconColor:'#972626',showCancelButton:false,confirmButtonColor:'#23552f'});}else{setLogin(_objectSpread(_objectSpread({},loginInput),{},{error_list:res.data.validation_errors}));}});});};return/*#__PURE__*/_jsxs(\"div\",{className:\"admin_login_container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"panel_blur\"}),/*#__PURE__*/_jsx(\"div\",{className:\"panel2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"admin_login_form\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:loginSubmit,children:[/*#__PURE__*/_jsx(\"img\",{className:\"logo_admin_panel\",src:mini_logo,alt:\"\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"Alkalmazotti azonos\\xEDt\\xF3:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"work_id\",onChange:handleInput,value:loginInput.work_id,Placeholder:\"Alkalmazotti azonos\\xEDt\\xF3\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"error_message\",children:loginInput.error_list.work_id}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"Jelsz\\xF3:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",onChange:handleInput,value:loginInput.password,Placeholder:\"Jelsz\\xF3\"}),/*#__PURE__*/_jsx(\"span\",{className:\"error_message\",children:loginInput.error_list.password}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"primary_button\",children:\"Bejelentkez\\xE9s\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]})})})]});};export default AdminLogin;","map":{"version":3,"sources":["C:/Users/SHOR/Desktop/Rental-1 CLONE/Rental1/Frontend/src/pages/AdminLogin.js"],"names":["React","mini_logo","useState","axios","Swal","useHistory","AdminLogin","history","work_id","password","error_list","loginInput","setLogin","handleInput","e","persist","target","name","value","loginSubmit","preventDefault","data","get","then","response","post","res","status","localStorage","setItem","token","admin_v_nev","admin_k_nev","fire","title","message","icon","iconColor","showCancelButton","showConfirmButton","push","confirmButtonColor","validation_errors"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport mini_logo from '../components/imgs/logo.png'\r\nimport {useState} from 'react'\r\nimport axios from 'axios'\r\nimport Swal from 'sweetalert2'\r\nimport {useHistory} from 'react-router-dom'\r\n\r\n\r\nconst AdminLogin = () => {\r\n\r\n  const history = useHistory();\r\n  const [loginInput, setLogin] = useState({\r\n\r\n  work_id: '',\r\n  password: '',\r\n  error_list: [],\r\n\r\n  });\r\n\r\n\r\n    const handleInput = (e) => {\r\n\r\n      e.persist();\r\n      setLogin({...loginInput, [e.target.name]: e.target.value });\r\n    }\r\n\r\n\r\n    const loginSubmit = (e) => {\r\n\r\n      e.preventDefault();\r\n      \r\n      const data = {\r\n\r\n          work_id: loginInput.work_id,\r\n          password: loginInput.password,\r\n\r\n      }\r\n\r\n       axios.get('/sanctum/csrf-cookie').then(response => {\r\n       axios.post(`api/admin/login`, data).then(res => {\r\n\r\n\r\n         if(res.data.status === 200)\r\n         {\r\n                    localStorage.setItem('auth_token', res.data.token);\r\n                    localStorage.setItem('admin_v_nev', res.data.admin_v_nev);\r\n                    localStorage.setItem('admin_k_nev', res.data.admin_k_nev);\r\n                    localStorage.setItem('admin', true);\r\n     \r\n                    \r\n            Swal.fire({\r\n  \r\n                      \r\n                      title: res.data.message,\r\n                      icon: 'success',\r\n                      iconColor: '#23552f',\r\n                      showCancelButton: false,\r\n                      showConfirmButton: false,\r\n                      \r\n\r\n              })\r\n\r\n                  \r\n                      history.push('admin/dashboard');\r\n                     \r\n\r\n         }\r\n\r\n         else if(res.data.status === 401)\r\n         {\r\n            Swal.fire({\r\n  \r\n                      \r\n                      title: res.data.message,\r\n                      icon: 'warning',\r\n                      iconColor: '#972626',\r\n                      showCancelButton: false,\r\n                      confirmButtonColor: '#23552f',\r\n\r\n              })\r\n\r\n         }\r\n\r\n         else \r\n         {\r\n\r\n           setLogin({...loginInput, error_list: res.data.validation_errors });\r\n\r\n         }\r\n         \r\n\r\n             \r\n       });\r\n});\r\n\r\n\r\n }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"admin_login_container\" >\r\n                <div className=\"panel_blur\"></div>\r\n                <div className=\"panel2\">\r\n                <div className=\"admin_login_form\">\r\n                \r\n                            <form onSubmit={loginSubmit}>\r\n                                <img className=\"logo_admin_panel\" src={mini_logo} alt=\"\" />\r\n                                <br />\r\n                                <label htmlFor=\"\">Alkalmazotti azonosító:</label>\r\n                                <br />\r\n                                <input type=\"text\" name=\"work_id\" onChange={handleInput} value={loginInput.work_id} Placeholder=\"Alkalmazotti azonosító\" />\r\n                                <br />\r\n                                <span className=\"error_message\">{loginInput.error_list.work_id}</span>\r\n                                <br />\r\n                                 <label htmlFor=\"\">Jelszó:</label>\r\n                                <br />\r\n                                <input type=\"password\" name=\"password\" onChange={handleInput} value={loginInput.password} Placeholder=\"Jelszó\" />\r\n                                <span className=\"error_message\">{loginInput.error_list.password}</span>\r\n                                <br />\r\n                                <button type=\"submit\" className=\"primary_button\">Bejelentkezés</button>\r\n\r\n                                <br />\r\n                                <br />\r\n                             </form>\r\n\r\n                    </div>\r\n                </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AdminLogin\r\n"]},"metadata":{},"sourceType":"module"}