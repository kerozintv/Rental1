{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SHOR\\\\Desktop\\\\Projects\\\\rental-1\\\\src\\\\components\\\\LoginForm.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useState } from 'react';\nimport axios from 'axios';\nimport swal from 'sweetalert';\nimport { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst LoginForm = props => {\n  _s();\n\n  const [loginInput, setLogin] = useState({\n    email_phone: '',\n    password: '',\n    error_list: []\n  });\n\n  const handleInput = e => {\n    e.persist();\n    setLogin({ ...loginInput,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const loginSubmit = e => {\n    e.preventDefault();\n    const data = {\n      email_phone: loginInput.email_phone,\n      password: loginInput.password\n    };\n    axios.get('/sanctum/csrf-cookie').then(response => {\n      axios.post(`api/login`, data).then(res => {\n        if (res.data.status === 200) {\n          localStorage.setItem('auth_token', res.data.token);\n          localStorage.setItem('auth_name', res.data.username);\n          swal({\n            title: res.data.message,\n            text: \"\",\n            icon: \"success\"\n          });\n          history.push('/');\n        } else if (res.data.status === 401) {\n          swal({\n            title: res.data.message,\n            text: \"\",\n            icon: \"warning\"\n          });\n        } else {\n          setLogin({ ...loginInput,\n            error_list: res.data.validation_errors\n          });\n        }\n      });\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login_form_container\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: loginSubmit,\n      className: \"login_form\",\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"\",\n        className: \"form_text\",\n        children: props.form_text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"email_phone\",\n        onChange: handleInput,\n        value: loginInput.email_phone,\n        Placeholder: \"Email-c\\xEDm vagy mobilsz\\xE1m\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"error_message\",\n        children: loginInput.error_list.email_phone\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        onChange: handleInput,\n        value: loginInput.password,\n        Placeholder: \"Jelsz\\xF3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"error_message\",\n        children: loginInput.error_list.password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"primary_button\",\n        children: \"Bejelentkez\\xE9s\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"\",\n        children: \" vagy\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/regisztracio\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"secondary_button\",\n          children: \"Regisztr\\xE1ci\\xF3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 5\n  }, this);\n};\n\n_s(LoginForm, \"T1nvxDFsXXzjywIucxn8NSh1bPE=\");\n\n_c = LoginForm;\nexport default LoginForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"sources":["C:/Users/SHOR/Desktop/Projects/rental-1/src/components/LoginForm.js"],"names":["React","Link","useState","axios","swal","useHistory","LoginForm","props","loginInput","setLogin","email_phone","password","error_list","handleInput","e","persist","target","name","value","loginSubmit","preventDefault","data","get","then","response","post","res","status","localStorage","setItem","token","username","title","message","text","icon","history","push","validation_errors","form_text"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport {useState} from 'react'\r\nimport axios from 'axios'\r\nimport swal from 'sweetalert';\r\nimport {useHistory} from 'react-router-dom'\r\n\r\n\r\n\r\n\r\n\r\nconst LoginForm = (props) => {\r\n\r\n  const [loginInput, setLogin] = useState({\r\n\r\n  email_phone: '',\r\n  password: '',\r\n  error_list: [],\r\n\r\n  });\r\n\r\n\r\n    const handleInput = (e) => {\r\n\r\n      e.persist();\r\n      setLogin({...loginInput, [e.target.name]: e.target.value });\r\n    }\r\n\r\n\r\n    const loginSubmit = (e) => {\r\n\r\n      e.preventDefault();\r\n      \r\n      const data = {\r\n\r\n          email_phone: loginInput.email_phone,\r\n          password: loginInput.password,\r\n\r\n      }\r\n\r\n       axios.get('/sanctum/csrf-cookie').then(response => {\r\n       axios.post(`api/login`, data).then(res => {\r\n\r\n\r\n         if(res.data.status === 200)\r\n         {\r\n                    localStorage.setItem('auth_token', res.data.token);\r\n                    localStorage.setItem('auth_name', res.data.username);\r\n                     swal({\r\n                        title: res.data.message,\r\n                        text: \"\",\r\n                        icon: \"success\",\r\n                      });\r\n\r\n                    history.push('/');\r\n\r\n         }\r\n\r\n         else if(res.data.status === 401)\r\n         {\r\n           swal({\r\n                        title: res.data.message,\r\n                        text: \"\",\r\n                        icon: \"warning\",\r\n                      });\r\n\r\n         }\r\n\r\n         else \r\n         {\r\n\r\n           setLogin({...loginInput, error_list: res.data.validation_errors });\r\n\r\n         }\r\n         \r\n\r\n             \r\n       });\r\n});\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"login_form_container\">\r\n      <form onSubmit={loginSubmit} className=\"login_form\">\r\n        <br />\r\n        <label htmlFor=\"\" className=\"form_text\">\r\n          {props.form_text}\r\n        </label>\r\n        <br />\r\n        <input type=\"text\" name=\"email_phone\" onChange={handleInput} value={loginInput.email_phone} Placeholder=\"Email-cím vagy mobilszám\" />\r\n        <br />\r\n         <span className=\"error_message\">{loginInput.error_list.email_phone}</span>\r\n        <input type=\"password\" onChange={handleInput} value={loginInput.password} Placeholder=\"Jelszó\" />\r\n          <span className=\"error_message\">{loginInput.error_list.password}</span>\r\n        <br />\r\n        <button className=\"primary_button\">Bejelentkezés</button>\r\n        <br />\r\n        <label htmlFor=\"\"> vagy</label>\r\n        <br />\r\n        <Link to=\"/regisztracio\">\r\n          <button type=\"submit\" className=\"secondary_button\">Regisztráció</button>\r\n        </Link>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default LoginForm\r\n"]},"metadata":{},"sourceType":"module"}